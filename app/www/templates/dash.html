<ion-view >
  <ion-content class="darkBackground">
          <div class="darkBackground" ng-show="!showingAnimation">
              <div class="topBar">
                  <div class="largeFont marginTop">
                      <i class="icon ion-navicon whiteFont largeIcon marginRight" menu-toggle="left"></i>

                      <i class="icon ion-search  whiteFont largeIcon" ng-click="showSearch = !showSearch" ng-show="!showSearch"></i>
                  </div>
              </div>
              <div id="searchBox" class="list list-inset marginLeft" ng-show="showSearch">
                  <label class="item item-input darkBackground whiteFont borderColor smaller">
                      <i class="icon ion-search placeholder-icon whiteFont"></i>

                      <form ng-submit="search(query)">
                          <input type="text" placeholder="Search location OR tags" class="whiteFont" ng-model="query" ng-enter="search(query)">
                        </form>

                    </label>
                  <i id="backButton" class="icon ion-close whiteFont floatRight" ng-click="showSearch = !showSearch"></i>
              </div>
              
              <div class="contentContainer" ng-show="!showSearch">
                  

                  <!--
                  <div class="dateContainer">
                      <div class="titleContainer largeFont leftMargin titleBackground darkFont">
                          Photos from here
                      </div>
                      <ion-scroll overflow-scroll="true" zooming="false" direction="x" style="width: 400px; height: 430px">
                          <div ng-repeat="(key, photo) in myPhotos">

                              <div class="wide-as-needed" ng-style="{ width : myPhotosWidth + 'px' }">
                                  <div class="imgContainer" ng-style="{{dinStyle}} " ng-click="loadPhoto(1, key)">

                                      <img ng-src="{{myPhotos[0].pictures[key].url}}" class="pastImage imgDisplay" ng-class="imgClass[$index]">
                                  </div>

                              </div>

                          </div>
                      </ion-scroll>
                  </div>-->


                  
                  <div class="dateContainer">
                      <div class="titleContainer largerFont leftMargin">
                          Photos around <span ng-click="triggerNotification()">here</span>
                      </div>
                      <div ng-repeat="(keyDate, dates) in myPhotos">

                          <div class="largeFont leftMargin titleBackground darkFont">
                              {{dates.year}}
                          </div>

                          <ion-scroll overflow-scroll="true" zooming="false" direction="x" style="width: 500px; height: 410px">
                              <div class="wide-as-needed" ng-style="{ width : dates.width + 'px' }">
                                  
                                  <div ng-repeat="(key,img) in dates.pictures"  ng-click="loadPhoto(keyDate, key)">
                                      <div class="imgContainer">
                                          
                                          <img ng-src="{{img.url}}" class="pastImage imgDisplay" ng-class="imgClass[$index]">

                                      </div>
                                  </div>

                              </div>
                          </ion-scroll>
                      </div>
                      </div>
                      <div class="dateContainer">

                          <div class="largeFont leftMargin titleBackground darkFont moreGap">
                              Flickr
                          </div>

                          <ion-scroll overflow-scroll="true" zooming="false" direction="x" style="width: 400px; height: 410px">
                              <div class="wide-as-needed" ng-style="{ width : flickr.width + 'px' }">
                                  <div ng-repeat="(key,img) in flickrPhotos" class="imgContainer" ng-style="{{dinStyle}} " ng-click="loadPhoto(-1, key)">

                                      <img ng-src="{{img}}" class="pastImage imgDisplay" ng-class="imgClass[key]">
                                  </div>

                              </div>
                          </ion-scroll>
                      </div>
                  </div>


              <div class="contentContainer" ng-show="showSearch">
                  <div ng-repeat="tag in tags" class="tagContainer">
                      <div class="tagBox  largeFont">
                          {{tag}}
                      </div>
                  </div>

                  <div class="dateContainer">
                      <div class="largeFont leftMargin titleBackground darkFont" ng-if="searchPhotos.length > 0">
                          Search results
                      </div>
                      <div class="searchMessage verticalAlign" ng-if="searchPhotos.length <= 0">
                          Search for <span class="accentColor">places</span></br>
                          and <span class="accentColor">tags</span>
                      </div>

                      <ion-scroll overflow-scroll="true" zooming="false" direction="x" style="width: 400px; height: 410px" ng-if="searchPhotos.length > 0">
                          <div ng-repeat="(key, photo) in searchPhotos">

                              <div class="wide-as-needed" ng-style="{ width : searchWidth + 'px' }">
                                  <div class="imgContainer" ng-style="{{dinStyle}} " ng-click="loadPhoto(-2, key)">

                                      <img ng-src="{{photo.url}}" class="pastImage imgDisplay" ng-class="imgClass[$index]">
                                  </div>

                              </div>

                          </div>
                      </ion-scroll>
                  </div>
              </div>

          </div>
  </ion-content>
</ion-view>
